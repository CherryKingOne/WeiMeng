<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeiMeng-Agent DAG çŠ¶æ€å›¾</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: #fff;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
        }

        .header p {
            color: #a0a0a0;
            font-size: 1.1rem;
        }

        .legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #fff;
            font-size: 0.9rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid #333;
        }

        .legend-color.emma { background: #FF6B6B; }
        .legend-color.decision { background: #F39C12; }
        .legend-color.dormant { background: #95A5A6; }
        .legend-color.engaged { background: #9B59B6; }
        .legend-color.user { background: #3498DB; }

        .diagram-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow-x: auto;
        }

        .mermaid {
            display: flex;
            justify-content: center;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-card h3 {
            color: #fff;
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .stat-card p {
            color: #a0a0a0;
            font-size: 0.9rem;
        }

        .stat-card:nth-child(1) h3 { color: #FF6B6B; }
        .stat-card:nth-child(2) h3 { color: #2ECC71; }
        .stat-card:nth-child(3) h3 { color: #9B59B6; }
        .stat-card:nth-child(4) h3 { color: #3498DB; }

        .flow-description {
            margin-top: 30px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .flow-description h2 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .flow-description ul {
            list-style: none;
            color: #d0d0d0;
        }

        .flow-description li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }

        .flow-description li::before {
            content: 'â†’';
            position: absolute;
            left: 0;
            color: #FF6B6B;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .diagram-container {
                padding: 15px;
            }

            .legend {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>WeiMeng-Agent DAG çŠ¶æ€å›¾</h1>
            <p>å¤šAgentåä½œç³»ç»Ÿæ¶æ„ - Emmaå¸¸é©»è°ƒåº¦ + ä¸“ä¸šAgentåŠ¨æ€æ¿€æ´»</p>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color emma"></div>
                <span>Emma å¸¸é©»å±‚</span>
            </div>
            <div class="legend-item">
                <div class="legend-color decision"></div>
                <span>å†³ç­–èŠ‚ç‚¹</span>
            </div>
            <div class="legend-item">
                <div class="legend-color dormant"></div>
                <span>Agent ä¼‘çœ æ€ (Dormant)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color engaged"></div>
                <span>Agent æ´»è·ƒæ€ (Engaged)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color user"></div>
                <span>ç”¨æˆ·å±‚</span>
            </div>
        </div>

        <div class="diagram-container">
            <div class="mermaid">
graph TD
    subgraph ç”¨æˆ·å±‚
        USER[("ğŸ‘¤ ç”¨æˆ·è¾“å…¥")]
    end

    subgraph Emmaå¸¸é©»å±‚["Emma å¸¸é©»å±‚ (Active)"]
        EMMA_LISTEN["Emma ç›‘å¬<br/>å§‹ç»ˆåœ¨çº¿"]
        EMMA_ANALYZE["Emma éœ€æ±‚è§£æ<br/>æ„å›¾è¯†åˆ«"]
        EMMA_DECIDE{"Emma å†³ç­–<br/>éœ€è¦å“ªä¸ªä¸“ä¸šAgent?"}
        EMMA_SUMMARY["Emma ç”Ÿæˆä»»åŠ¡æ‘˜è¦<br/>(éå®Œæ•´ä¸Šä¸‹æ–‡)"]
        EMMA_INVITE["Emma é‚€è¯·Agent<br/>çŠ¶æ€: Dormant â†’ Engaged"]
        EMMA_MONITOR["Emma æ—å¬<br/>(ä¸å¹²é¢„ç›´æ¥å¯¹è¯)"]
        EMMA_RECEIVE["Emma æ¥æ”¶å®Œæˆé€šçŸ¥"]
        EMMA_EVALUATE{"Emma è¯„ä¼°<br/>æ˜¯å¦éœ€è¦ä¸‹ä¸€ä¸ªAgent?"}
        EMMA_DISMISS["Emma é‡Šæ”¾Agent<br/>çŠ¶æ€: Engaged â†’ Dormant"]
        EMMA_RESPOND["Emma æ±‡æ€»ç»“æœ<br/>å›å¤ç”¨æˆ·"]
    end

    subgraph ä¸“ä¸šAgentå±‚["ä¸“ä¸š Agent å±‚ (Dormant â†” Engaged)"]
        SARAH["ğŸ“ Sarah ç¼–å‰§<br/>åˆå§‹: Dormant"]
        OLIVER["ğŸ¬ Oliver åŠ¨ç”»å¸ˆ<br/>åˆå§‹: Dormant"]
        DAVID["ğŸ“ David åˆ†é•œå¸ˆ<br/>åˆå§‹: Dormant"]
        ALEX["âœ‚ï¸ Alex å‰ªè¾‘å¸ˆ<br/>åˆå§‹: Dormant"]
        BOB["ğŸ¨ Bob è§’è‰²è®¾è®¡<br/>åˆå§‹: Dormant"]
        ROBERT["ğŸ”Š Robert éŸ³æ•ˆå¸ˆ<br/>åˆå§‹: Dormant"]
    end

    subgraph äº¤äº’æ€["æ´»è·ƒäº¤äº’åŒº (Engaged)"]
        AGENT_ACTIVE["ä¸“ä¸šAgent æ´»è·ƒæ€"]
        AGENT_WORK["Agent æ‰§è¡Œä¸“ä¸šä»»åŠ¡"]
        AGENT_INTERACT["Agent â†” ç”¨æˆ· ç›´æ¥å¯¹è¯"]
        AGENT_COMPLETE["Agent ä»»åŠ¡å®Œæˆé€šçŸ¥"]
        AGENT_HANDOFF["Agent è¯·æ±‚æµè½¬<br/>éœ€è¦å…¶ä»–AgentååŠ©"]
    end

    USER -->|"æ‰€æœ‰æ¶ˆæ¯å…ˆåˆ°"| EMMA_LISTEN
    EMMA_LISTEN --> EMMA_ANALYZE
    EMMA_ANALYZE --> EMMA_DECIDE

    EMMA_DECIDE -->|"éœ€è¦ç¼–å‰§"| SARAH
    EMMA_DECIDE -->|"éœ€è¦åŠ¨ç”»å¸ˆ"| OLIVER
    EMMA_DECIDE -->|"éœ€è¦åˆ†é•œå¸ˆ"| DAVID
    EMMA_DECIDE -->|"éœ€è¦å‰ªè¾‘å¸ˆ"| ALEX
    EMMA_DECIDE -->|"éœ€è¦è§’è‰²è®¾è®¡"| BOB
    EMMA_DECIDE -->|"éœ€è¦éŸ³æ•ˆå¸ˆ"| ROBERT
    EMMA_DECIDE -->|"Emmaå¯ç›´æ¥å¤„ç†"| EMMA_RESPOND

    SARAH & OLIVER & DAVID & ALEX & BOB & ROBERT -.->|"è¢«é€‰ä¸­"| EMMA_SUMMARY
    EMMA_SUMMARY -->|"ä»»åŠ¡æ‘˜è¦<br/>éå®Œæ•´å†å²"| EMMA_INVITE
    EMMA_INVITE --> AGENT_ACTIVE

    AGENT_ACTIVE --> AGENT_WORK
    AGENT_WORK --> AGENT_INTERACT
    USER -.->|"ç›´æ¥å¯¹è¯<br/>ç»•è¿‡Emma"| AGENT_INTERACT
    EMMA_MONITOR -.->|"æ—å¬ä¸å¹²é¢„"| AGENT_INTERACT

    AGENT_INTERACT --> AGENT_COMPLETE
    AGENT_INTERACT --> AGENT_HANDOFF

    AGENT_COMPLETE -->|"é€šçŸ¥Emma"| EMMA_RECEIVE
    AGENT_HANDOFF -->|"é€šçŸ¥Emmaéœ€è¦å…¶ä»–Agent"| EMMA_RECEIVE

    EMMA_RECEIVE --> EMMA_EVALUATE

    EMMA_EVALUATE -->|"éœ€è¦ä¸‹ä¸€ä¸ªAgent"| EMMA_DISMISS
    EMMA_DISMISS -->|"é‡Šæ”¾å½“å‰Agent"| EMMA_DECIDE
    EMMA_EVALUATE -->|"å…¨éƒ¨å®Œæˆ"| EMMA_DISMISS
    EMMA_DISMISS -->|"æ‰€æœ‰ä»»åŠ¡å®Œæˆ"| EMMA_RESPOND
    EMMA_RESPOND --> USER

    classDef emma fill:#FF6B6B,stroke:#333,stroke-width:3px,color:#fff
    classDef dormant fill:#95A5A6,stroke:#333,stroke-width:1px,color:#fff
    classDef engaged fill:#2ECC71,stroke:#333,stroke-width:2px,color:#fff
    classDef user fill:#3498DB,stroke:#333,stroke-width:2px,color:#fff
    classDef decision fill:#F39C12,stroke:#333,stroke-width:2px,color:#fff
    classDef active fill:#9B59B6,stroke:#333,stroke-width:2px,color:#fff

    class EMMA_LISTEN,EMMA_ANALYZE,EMMA_SUMMARY,EMMA_INVITE,EMMA_MONITOR,EMMA_RECEIVE,EMMA_DISMISS,EMMA_RESPOND emma
    class EMMA_DECIDE,EMMA_EVALUATE decision
    class SARAH,OLIVER,DAVID,ALEX,BOB,ROBERT dormant
    class AGENT_ACTIVE,AGENT_WORK,AGENT_INTERACT,AGENT_COMPLETE,AGENT_HANDOFF active
    class USER user
            </div>
        </div>

        <div class="stats">
            <div class="stat-card">
                <h3>1</h3>
                <p>å¸¸é©»è°ƒåº¦Agent (Emma)</p>
            </div>
            <div class="stat-card">
                <h3>6</h3>
                <p>ä¸“ä¸šAgent</p>
            </div>
            <div class="stat-card">
                <h3>2</h3>
                <p>AgentçŠ¶æ€ (Dormant/Engaged)</p>
            </div>
            <div class="stat-card">
                <h3>10</h3>
                <p>Emmaå·¥ä½œèŠ‚ç‚¹</p>
            </div>
        </div>

        <div class="flow-description">
            <h2>ğŸ“‹ æ ¸å¿ƒæµç¨‹è¯´æ˜</h2>
            <ul>
                <li><strong>å…¥å£:</strong> æ‰€æœ‰ç”¨æˆ·æ¶ˆæ¯é¦–å…ˆåˆ°è¾¾ Emma ç›‘å¬èŠ‚ç‚¹</li>
                <li><strong>è§£æ:</strong> Emma åˆ†æéœ€æ±‚æ„å›¾ï¼Œå†³ç­–éœ€è¦å“ªä¸ªä¸“ä¸šAgent</li>
                <li><strong>æ¿€æ´»:</strong> é€‰ä¸­çš„ Agent ä» Dormant çŠ¶æ€è½¬ä¸º Engaged çŠ¶æ€</li>
                <li><strong>äº¤äº’:</strong> ç”¨æˆ·ä¸ä¸“ä¸šAgentç›´æ¥å¯¹è¯ï¼ŒEmma ä»…æ—å¬ä¸å¹²é¢„</li>
                <li><strong>æµè½¬:</strong> Agent å¯è¯·æ±‚æµè½¬åˆ°å…¶ä»–Agentåä½œ</li>
                <li><strong>é‡Šæ”¾:</strong> ä»»åŠ¡å®Œæˆå Agent å›åˆ° Dormant çŠ¶æ€</li>
                <li><strong>å“åº”:</strong> Emma æ±‡æ€»ç»“æœå›å¤ç”¨æˆ·</li>
            </ul>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis',
                rankSpacing: 80,
                nodeSpacing: 50
            },
            securityLevel: 'loose'
        });
    </script>
</body>
</html>
